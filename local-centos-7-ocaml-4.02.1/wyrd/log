+ uname -m
# Detecting depexts using flags: x86_64 linux centos
+ uname -s
+ opam list --safe --recursive --external=x86_64,linux,centos --required-by=wyrd
+ opam list --safe --recursive --external=source,x86_64,linux,centos --required-by=wyrd
# No extra OS packages requirements found.
The following actions will be performed:
  - install camlp4 4.02.1+system                                [required by wyrd]
  - install wyrd   1.4.6        
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[wyrd: from default] Command started
[wyrd: from default] Command started
[default] http://opam-archive:8080/archives/wyrd.1.4.6+opam.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[camlp4: sh] Command started
+ sh "./check-camlp4.sh" (CWD=/home/opam/.opam/system/build/camlp4.4.02.1+system)
- Camlp4 version 4.02.1
-> installed camlp4.4.02.1+system
[wyrd: ./configure] Command started
+ ./configure "--prefix" "/home/opam/.opam/system" "--sbindir=/home/opam/.opam/system/lib/wyrd/sbin" "--libexecdir=/home/opam/.opam/system/lib/wyrd/libexec" "--sysconfdir=/home/opam/.opam/system/lib/wyrd/etc" "--sharedstatedir=/home/opam/.opam/system/lib/wyrd/com" "--localstatedir=/home/opam/.opam/system/lib/wyrd/var" "--libdir=/home/opam/.opam/system/lib/wyrd/lib" "--includedir=/home/opam/.opam/system/lib/wyrd/include" "--datarootdir=/home/opam/.opam/system/lib/wyrd/share" "--enable-utf8" (CWD=/home/opam/.opam/system/build/wyrd.1.4.6)
- checking for ocamlc... ocamlc
- ocaml version is 4.02.1
- ocaml library path is /usr/lib64/ocaml
- checking for ocamlopt... ocamlopt
- checking ocamlopt version... ok
- checking for ocamlc.opt... ocamlc.opt
- checking ocamlc.opt version... ok
- checking for ocamlopt.opt... ocamlopt.opt
- checking ocamlc.opt version... ok
- checking for ocamldep... ocamldep
- checking for ocamllex... ocamllex
- checking for ocamllex.opt... ocamllex.opt
- checking for ocamlyacc... ocamlyacc
- checking platform... not Win32
- checking for gcc... gcc
- checking whether the C compiler works... yes
- checking for C compiler default output file name... a.out
- checking for suffix of executables... 
- checking whether we are cross compiling... no
- checking for suffix of object files... o
- checking whether we are using the GNU C compiler... 
- yes
- checking whether gcc accepts -g... yes
- checking for gcc option to accept ISO C89... none needed
- checking for remind... not found
- checking for a BSD-compatible install... /usr/bin/install -c
- configure: creating ./config.status
- config.status: creating Makefile
- config.status: creating install.ml
- === configuring in curses (/home/opam/.opam/system/build/wyrd.1.4.6/curses)
- configure: running /bin/sh ./configure --disable-option-checking '--prefix=/home/opam/.opam/system'  '--sbindir=/home/opam/.opam/system/lib/wyrd/sbin' '--libexecdir=/home/opam/.opam/system/lib/wyrd/libexec' '--sysconfdir=/home/opam/.opam/system/lib/wyrd/etc' '--sharedstatedir=/home/opam/.opam/system/lib/wyrd/com' '--localstatedir=/home/opam/.opam/system/lib/wyrd/var' '--libdir=/home/opam/.opam/system/lib/wyrd/lib' '--includedir=/home/opam/.opam/system/lib/wyrd/include' '--datarootdir=/home/opam/.opam/system/lib/wyrd/share' '--enable-utf8' '--enable-widec' --cache-file=/dev/null --srcdir=.
- checking for gcc... gcc
- checking whether the C compiler works... yes
- checking for C compiler default output file name... a.out
- checking for suffix of executables... 
- checking whether we are cross compiling... no
- checking for suffix of object files... o
- checking whether we are using the GNU C compiler... yes
- checking whether gcc accepts -g... 
- configure: WARNING: Wyrd requires Remind version 03.00.24 or greater.
- yes
- checking for gcc option to accept ISO C89... none needed
- checking whether gcc and cc understand -c and -o together... yes
- checking for ranlib... ranlib
- checking how to run the C preprocessor... gcc -E
- checking for grep that handles long lines and -e... /usr/bin/grep
- checking for egrep... /usr/bin/grep -E
- checking for ANSI C header files... yes
- checking for sys/types.h... yes
- checking for sys/stat.h... yes
- checking for stdlib.h... yes
- checking for string.h... yes
- checking for memory.h... yes
- checking for strings.h... yes
- checking for inttypes.h... 
- yes
- checking for stdint.h... yes
- checking for unistd.h... yes
- checking termios.h usability... yes
- checking termios.h presence... yes
- checking for termios.h... yes
- checking sys/ioctl.h usability... yes
- checking sys/ioctl.h presence... yes
- checking for sys/ioctl.h... yes
- checking windows.h usability... no
- checking windows.h presence... no
- checking for windows.h... no
- checking for working ncurses library... 
- configure: error: not found
- configure: error: ./configure failed for curses
[ERROR] The compilation of wyrd failed at "./configure --prefix
        /home/opam/.opam/system --sbindir=/home/opam/.opam/system/lib/wyrd/sbin
        --libexecdir=/home/opam/.opam/system/lib/wyrd/libexec
        --sysconfdir=/home/opam/.opam/system/lib/wyrd/etc
        --sharedstatedir=/home/opam/.opam/system/lib/wyrd/com
        --localstatedir=/home/opam/.opam/system/lib/wyrd/var
        --libdir=/home/opam/.opam/system/lib/wyrd/lib
        --includedir=/home/opam/.opam/system/lib/wyrd/include
        --datarootdir=/home/opam/.opam/system/lib/wyrd/share --enable-utf8".

#=== ERROR while installing wyrd.1.4.6 ========================================#
# opam-version         1.2.2 (391297300524717e1475deaea37bca287c7f5e36)
# os                   linux
# command              ./configure --prefix /home/opam/.opam/system --sbindir=/home/opam/.opam/system/lib/wyrd/sbin --libexecdir=/home/opam/.opam/system/lib/wyrd/libexec --sysconfdir=/home/opam/.opam/system/lib/wyrd/etc --sharedstatedir=/home/opam/.opam/system/lib/wyrd/com --localstatedir=/home/opam/.opam/system/lib/wyrd/var --libdir=/home/opam/.opam/system/lib/wyrd/lib --includedir=/home/opam/.opam/system/lib/wyrd/include --datarootdir=/home/opam/.opam/system/lib/wyrd/share --enable-utf8
# path                 /home/opam/.opam/system/build/wyrd.1.4.6
# compiler             system (4.02.1)
# exit-code            1
# env-file             /home/opam/.opam/system/build/wyrd.1.4.6/wyrd-1-d2d111.env
# stdout-file          /home/opam/.opam/system/build/wyrd.1.4.6/wyrd-1-d2d111.out
# stderr-file          /home/opam/.opam/system/build/wyrd.1.4.6/wyrd-1-d2d111.err
### stdout ###
# [...]
# checking termios.h usability... yes
# checking termios.h presence... yes
# checking for termios.h... yes
# checking sys/ioctl.h usability... yes
# checking sys/ioctl.h presence... yes
# checking for sys/ioctl.h... yes
# checking windows.h usability... no
# checking windows.h presence... no
# checking for windows.h... no
# checking for working ncurses library... 
### stderr ###
# configure: WARNING: Wyrd requires Remind version 03.00.24 or greater.
# configure: error: not found
# configure: error: ./configure failed for curses


The former state can be restored with:
    opam switch import "~/.opam/system/backup/state-20150413230441.export"
'opam install wyrd' failed.


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install wyrd 1.4.6
The following changes have been performed
  - install camlp4 4.02.1+system
