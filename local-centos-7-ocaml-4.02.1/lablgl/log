++ opam install lablgl -e centos,centos-7
CentOS 7 depexts:
+ depext=
+ echo CentOS 7 depexts:
+ '[' '' '!=' '' ']'
+ opam install lablgl
The following actions will be performed:
 - install   camlp4.4.02.1+system                  [required by lablgl]
 - install   lablgl.1.05
=== 2 to install ===

=-=- Synchronizing package archives -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default] Downloading http://opam-archive:8080/archives/lablgl.1.05+opam.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0 66  290k   66  194k    0     0  1246k      0 --:--:-- --:--:-- --:--:-- 1248k100  290k  100  290k    0     0  1841k      0 --:--:-- --:--:-- --:--:-- 1841k
200

=-=- Installing packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Copying ~/.opam/repo/default/packages/camlp4/camlp4.4.02.1+system/files/install to ~/.opam/system/build/camlp4.4.02.1+system/
Copying ~/.opam/repo/default/packages/camlp4/camlp4.4.02.1+system/files/check-camlp4.sh to ~/.opam/system/build/camlp4.4.02.1+system/
Building camlp4.4.02.1+system:
  sh ./check-camlp4.sh
Camlp4 version 4.02.1
Installing camlp4.4.02.1+system.
Building lablgl.1.05:
  cp Makefile.config.ex Makefile.config
  mkdir -p /home/opam/.opam/system/bin
  make glut
  make glutopt
  make install -C src BINDIR=/home/opam/.opam/system/bin INSTALLDIR=/home/opam/.opam/system/lib/lablgl DLLDIR=/home/opam/.opam/system/lib/stublibs
  make install -C LablGlut/src BINDIR=/home/opam/.opam/system/bin INSTALLDIR=/home/opam/.opam/system/lib/lablgl DLLDIR=/home/opam/.opam/system/lib/stublibs
cd src && make all LIBDIR="`ocamlc -where`"
make[1]: Entering directory `/home/opam/.opam/system/build/lablgl.1.05/src'
ocamlc -pp camlp4o var2def.ml -o var2def
ocamlc -pp camlp4o var2switch.ml -o var2switch
make lablgl.cma
make[2]: Entering directory `/home/opam/.opam/system/build/lablgl.1.05/src'
ocamlrun ../src/var2def < gl_tags.var > gl_tags.h
ocamlrun ../src/var2switch -table GL_ < gl_tags.var > gl_tags.c
ocamlc -c -w s -ccopt "-c -O  -I/usr/X11R6/include" ml_gl.c
ml_gl.c:10:19: fatal error: GL/gl.h: No such file or directory
 #include <GL/gl.h>
                   ^
compilation terminated.
make[2]: *** [ml_gl.o] Error 2
make[2]: Leaving directory `/home/opam/.opam/system/build/lablgl.1.05/src'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/home/opam/.opam/system/build/lablgl.1.05/src'
make: *** [lib] Error 2
Removing lablgl.1.05.
[ERROR] The compilation of lablgl.1.05 failed.
  Nothing to do.


#=== ERROR while installing lablgl.1.05 =======================================#
# opam-version         1.2.0
# os                   linux
# command              make glut
# path                 /home/opam/.opam/system/build/lablgl.1.05
# compiler             system (4.02.1)
# exit-code            2
# env-file             /home/opam/.opam/system/build/lablgl.1.05/lablgl-75-a71bb4.env
# stdout-file          /home/opam/.opam/system/build/lablgl.1.05/lablgl-75-a71bb4.out
# stderr-file          /home/opam/.opam/system/build/lablgl.1.05/lablgl-75-a71bb4.err
### stdout ###
# ...[truncated]
# make[1]: Entering directory `/home/opam/.opam/system/build/lablgl.1.05/src'
# ocamlc -pp camlp4o var2def.ml -o var2def
# ocamlc -pp camlp4o var2switch.ml -o var2switch
# make lablgl.cma
# make[2]: Entering directory `/home/opam/.opam/system/build/lablgl.1.05/src'
# ocamlrun ../src/var2def < gl_tags.var > gl_tags.h
# ocamlrun ../src/var2switch -table GL_ < gl_tags.var > gl_tags.c
# ocamlc -c -w s -ccopt "-c -O  -I/usr/X11R6/include" ml_gl.c
# make[2]: Leaving directory `/home/opam/.opam/system/build/lablgl.1.05/src'
# make[1]: Leaving directory `/home/opam/.opam/system/build/lablgl.1.05/src'
### stderr ###
# ml_gl.c:10:19: fatal error: GL/gl.h: No such file or directory
#  #include <GL/gl.h>
#                    ^
# compilation terminated.
# make[2]: *** [ml_gl.o] Error 2
# make[1]: *** [all] Error 2
# make: *** [lib] Error 2


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
These actions have been completed successfully
 - install   camlp4.4.02.1+system
The following failed
 - install   lablgl.1.05

The former state can be restored with opam switch import "/home/opam/.opam/system/backup/state-20150209171551.export"
'opam install lablgl' failed.
