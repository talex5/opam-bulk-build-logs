+ uname -m
+ uname -s
# Detecting depexts using flags: x86_64 linux centos
+ opam list --safe --recursive --external=x86_64,linux,centos --required-by=opam-publish
# The following system packages are needed:
#  - openssl-devel
+ opam list --safe --recursive --external=source,x86_64,linux,centos --required-by=opam-publish
+ sudo yum -y update
Not running as root, the following command will be run through "sudo":
    yum -y update
Loaded plugins: fastestmirror
Determining fastest mirrors
 * base: anorien.csc.warwick.ac.uk
 * extras: mirror.sov.uk.goscomb.net
 * updates: anorien.csc.warwick.ac.uk
Resolving Dependencies
--> Running transaction check
---> Package openssl-libs.x86_64 1:1.0.1e-42.el7.4 will be updated
---> Package openssl-libs.x86_64 1:1.0.1e-42.el7.6 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package            Arch         Version                    Repository     Size
================================================================================
Updating:
 openssl-libs       x86_64       1:1.0.1e-42.el7.6          updates       948 k

Transaction Summary
================================================================================
Upgrade  1 Package

Total download size: 948 k
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.1e-42.el7.6.x86_64                        1/2 
  Cleanup    : 1:openssl-libs-1.0.1e-42.el7.4.x86_64                        2/2 
  Verifying  : 1:openssl-libs-1.0.1e-42.el7.6.x86_64                        1/2 
  Verifying  : 1:openssl-libs-1.0.1e-42.el7.4.x86_64                        2/2 

Updated:
  openssl-libs.x86_64 1:1.0.1e-42.el7.6                                         

Complete!
# OS package update successful
Not running as root, the following command will be run through "sudo":
    yum install -y openssl-devel
Not running as root, the following command will be run through "sudo":
    rpm -q openssl-devel
+ sudo yum install -y openssl-devel
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: anorien.csc.warwick.ac.uk
 * extras: mirror.sov.uk.goscomb.net
 * updates: anorien.csc.warwick.ac.uk
Resolving Dependencies
--> Running transaction check
---> Package openssl-devel.x86_64 1:1.0.1e-42.el7.6 will be installed
--> Processing Dependency: zlib-devel(x86-64) for package: 1:openssl-devel-1.0.1e-42.el7.6.x86_64
--> Processing Dependency: krb5-devel(x86-64) for package: 1:openssl-devel-1.0.1e-42.el7.6.x86_64
--> Running transaction check
---> Package krb5-devel.x86_64 0:1.12.2-14.el7 will be installed
--> Processing Dependency: libverto-devel for package: krb5-devel-1.12.2-14.el7.x86_64
--> Processing Dependency: libselinux-devel for package: krb5-devel-1.12.2-14.el7.x86_64
--> Processing Dependency: libcom_err-devel for package: krb5-devel-1.12.2-14.el7.x86_64
--> Processing Dependency: keyutils-libs-devel for package: krb5-devel-1.12.2-14.el7.x86_64
---> Package zlib-devel.x86_64 0:1.2.7-13.el7 will be installed
--> Running transaction check
---> Package keyutils-libs-devel.x86_64 0:1.5.8-3.el7 will be installed
---> Package libcom_err-devel.x86_64 0:1.42.9-7.el7 will be installed
---> Package libselinux-devel.x86_64 0:2.2.2-6.el7 will be installed
--> Processing Dependency: libsepol-devel >= 2.1.9-1 for package: libselinux-devel-2.2.2-6.el7.x86_64
--> Processing Dependency: pkgconfig(libsepol) for package: libselinux-devel-2.2.2-6.el7.x86_64
--> Processing Dependency: pkgconfig(libpcre) for package: libselinux-devel-2.2.2-6.el7.x86_64
---> Package libverto-devel.x86_64 0:0.2.5-4.el7 will be installed
--> Running transaction check
---> Package libsepol-devel.x86_64 0:2.1.9-3.el7 will be installed
---> Package pcre-devel.x86_64 0:8.32-14.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                  Arch        Version                Repository    Size
================================================================================
Installing:
 openssl-devel            x86_64      1:1.0.1e-42.el7.6      updates      1.2 M
Installing for dependencies:
 keyutils-libs-devel      x86_64      1.5.8-3.el7            base          37 k
 krb5-devel               x86_64      1.12.2-14.el7          base         640 k
 libcom_err-devel         x86_64      1.42.9-7.el7           base          30 k
 libselinux-devel         x86_64      2.2.2-6.el7            base         174 k
 libsepol-devel           x86_64      2.1.9-3.el7            base          71 k
 libverto-devel           x86_64      0.2.5-4.el7            base          12 k
 pcre-devel               x86_64      8.32-14.el7            base         477 k
 zlib-devel               x86_64      1.2.7-13.el7           base          49 k

Transaction Summary
================================================================================
Install  1 Package (+8 Dependent packages)

Total download size: 2.6 M
Installed size: 5.7 M
Downloading packages:
--------------------------------------------------------------------------------
Total                                              3.6 MB/s | 2.6 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : keyutils-libs-devel-1.5.8-3.el7.x86_64                       1/9 
  Installing : libcom_err-devel-1.42.9-7.el7.x86_64                         2/9 
  Installing : libsepol-devel-2.1.9-3.el7.x86_64                            3/9 
  Installing : zlib-devel-1.2.7-13.el7.x86_64                               4/9 
  Installing : pcre-devel-8.32-14.el7.x86_64                                5/9 
  Installing : libselinux-devel-2.2.2-6.el7.x86_64                          6/9 
  Installing : libverto-devel-0.2.5-4.el7.x86_64                            7/9 
  Installing : krb5-devel-1.12.2-14.el7.x86_64                              8/9 
  Installing : 1:openssl-devel-1.0.1e-42.el7.6.x86_64                       9/9 
  Verifying  : libselinux-devel-2.2.2-6.el7.x86_64                          1/9 
  Verifying  : libverto-devel-0.2.5-4.el7.x86_64                            2/9 
  Verifying  : krb5-devel-1.12.2-14.el7.x86_64                              3/9 
  Verifying  : pcre-devel-8.32-14.el7.x86_64                                4/9 
  Verifying  : zlib-devel-1.2.7-13.el7.x86_64                               5/9 
  Verifying  : 1:openssl-devel-1.0.1e-42.el7.6.x86_64                       6/9 
  Verifying  : libsepol-devel-2.1.9-3.el7.x86_64                            7/9 
  Verifying  : libcom_err-devel-1.42.9-7.el7.x86_64                         8/9 
  Verifying  : keyutils-libs-devel-1.5.8-3.el7.x86_64                       9/9 

Installed:
  openssl-devel.x86_64 1:1.0.1e-42.el7.6                                        

Dependency Installed:
  keyutils-libs-devel.x86_64 0:1.5.8-3.el7                                      
  krb5-devel.x86_64 0:1.12.2-14.el7                                             
  libcom_err-devel.x86_64 0:1.42.9-7.el7                                        
  libselinux-devel.x86_64 0:2.2.2-6.el7                                         
  libsepol-devel.x86_64 0:2.1.9-3.el7                                           
  libverto-devel.x86_64 0:0.2.5-4.el7                                           
  pcre-devel.x86_64 0:8.32-14.el7                                               
  zlib-devel.x86_64 0:1.2.7-13.el7                                              

Complete!
+ sudo rpm -q openssl-devel
openssl-devel-1.0.1e-42.el7.6.x86_64
# OS packages installation successful
The following actions will be performed:
  - install ocamlfind     1.5.5                                 [required by opam-publish]
  - install camlp4        4.02.1+system                         [required by cudf]
  - install uutf          0.9.4                                 [required by jsonm]
  - install stringext     1.1.0                                 [required by github]
  - install ssl           0.4.7                                 [required by github]
  - install react         1.2.0                                 [required by lambda-term]
  - install re            1.2.2                                 [required by opam-lib]
  - install ounit         2.0.0                                 [required by cohttp]
  - install ocamlgraph    1.8.6                                 [required by opam-lib]
  - install menhir        20141215                              [required by atd]
  - install easy-format   1.0.2                                 [required by biniou, atd, yojson]
  - install cppo          1.1.2                                 [required by yojson]
  - install camomile      0.8.5                                 [required by zed]
  - install type_conv     112.01.01                             [required by fieldslib]
  - install optcomp       1.6                                   [required by ocplib-endian]
  - install extlib        1.6.1                                 [required by cudf, dose]
  - install jsonm         0.9.1                                 [required by opam-lib]
  - install lwt           2.4.5                                 [required by github]
  - install biniou        1.0.9                                 [required by atdgen]
  - install atd           1.1.2                                 [required by atdgen]
  - install zed           1.3                                   [required by lambda-term]
  - install sexplib       112.24.01                             [required by cohttp]
  - install fieldslib     109.20.03                             [required by cohttp]
  - install ocplib-endian 0.4                                   [required by cstruct]
  - install cudf          0.7                                   [required by opam-lib]
  - install yojson        1.2.1                                 [required by github]
  - install lambda-term   1.8                                   [required by github]
  - install uri           1.7.2                                 [required by github]
  - install ipaddr        2.5.0                                 [required by conduit]
  - install cstruct       1.6.0                                 [required by conduit]
  - install dose          3.2.2+opam                            [required by opam-lib]
  - install atdgen        1.6.1                                 [required by github]
  - install conduit       0.8.2                                 [required by cohttp]
  - install opam-lib      1.2.0                                 [required by opam-publish]
  - install cohttp        0.13.0                                [required by github]
  - install github        0.9.3                                 [required by opam-publish]
  - install opam-publish  0.2.1        
===== 37 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[atd: from default] Command started
[atdgen: from default] Command started
[biniou: from default] Command started
[atd: from default] Command started
[atdgen: from default] Command started
[biniou: from default] Command started
[default] http://opam-archive:8080/archives/atd.1.1.2+opam.tar.gz downloaded
[camomile: from default] Command started
[default] http://opam-archive:8080/archives/atdgen.1.6.1+opam.tar.gz downloaded
[cohttp: from default] Command started
[default] http://opam-archive:8080/archives/biniou.1.0.9+opam.tar.gz downloaded
[conduit: from default] Command started
[cohttp: from default] Command started
[default] http://opam-archive:8080/archives/cohttp.0.13.0+opam.tar.gz downloaded
[cppo: from default] Command started
[conduit: from default] Command started
[default] http://opam-archive:8080/archives/conduit.0.8.2+opam.tar.gz downloaded
[cstruct: from default] Command started
[camomile: from default] Command started
[cppo: from default] Command started
[default] http://opam-archive:8080/archives/camomile.0.8.5+opam.tar.gz downloaded
[cudf: http] Command started
[cstruct: from default] Command started
[default] http://opam-archive:8080/archives/cppo.1.1.2+opam.tar.gz downloaded
[dose: http] Command started
[default] http://opam-archive:8080/archives/cstruct.1.6.0+opam.tar.gz downloaded
[easy-format: from default] Command started
[easy-format: from default] Command started
[default] http://opam-archive:8080/archives/easy-format.1.0.2+opam.tar.gz downloaded
[extlib: from default] Command started
[extlib: from default] Command started
[default] http://opam-archive:8080/archives/extlib.1.6.1+opam.tar.gz downloaded
[fieldslib: from default] Command started
[fieldslib: from default] Command started
[default] http://opam-archive:8080/archives/fieldslib.109.20.03+opam.tar.gz downloaded
[github: from default] Command started
[github: from default] Command started
[default] http://opam-archive:8080/archives/github.0.9.3+opam.tar.gz downloaded
[ipaddr: from default] Command started
[ipaddr: from default] Command started
[default] http://opam-archive:8080/archives/ipaddr.2.5.0+opam.tar.gz downloaded
[jsonm: from default] Command started
[jsonm: from default] Command started
[default] http://opam-archive:8080/archives/jsonm.0.9.1+opam.tar.gz downloaded
[lambda-term: from default] Command started
[lambda-term: from default] Command started
[default] http://opam-archive:8080/archives/lambda-term.1.8+opam.tar.gz downloaded
[lwt: from default] Command started
[lwt: from default] Command started
[default] http://opam-archive:8080/archives/lwt.2.4.5+opam.tar.gz downloaded
[menhir: from default] Command started
[menhir: from default] Command started
[default] http://opam-archive:8080/archives/menhir.20141215+opam.tar.gz downloaded
[ocamlfind: from default] Command started
[ocamlfind: from default] Command started
[default] http://opam-archive:8080/archives/ocamlfind.1.5.5+opam.tar.gz downloaded
[ocamlgraph: from default] Command started
[ocamlgraph: from default] Command started
[default] http://opam-archive:8080/archives/ocamlgraph.1.8.6+opam.tar.gz downloaded
[ocplib-endian: from default] Command started
[ocplib-endian: from default] Command started
[default] http://opam-archive:8080/archives/ocplib-endian.0.4+opam.tar.gz downloaded
[opam-lib: from default] Command started
[opam-lib: from default] Command started
[ERROR] Bad checksum for
        /home/opam/.opam/packages.dev/cudf.0.7/cudf-0.7.tar.gz:
          - 2047222fcf78278c6a24ac619fc39abb [expected result]
          - 8617c974e42c46dbb9c9192c0dd5f4fb [actual result]
        This may be fixed by running `opam update`.

[ERROR] Bad checksum for
        /home/opam/.opam/packages.dev/dose.3.2.2+opam/dose3-3.2.2.tar.gz:
          - 3ffed1987a040024076c08f4a7af9b21 [expected result]
          - dfb6cd73fca393537c91c4333890ecec [actual result]
        This may be fixed by running `opam update`.

[default] http://opam-archive:8080/archives/opam-lib.1.2.0+opam.tar.gz downloaded
[opam-publish: from default] Command started
[cudf: http] Command started
[dose: http] Command started
[optcomp: from default] Command started
[opam-publish: from default] Command started
[ounit: from default] Command started
[default] http://opam-archive:8080/archives/opam-publish.0.2.1+opam.tar.gz downloaded
[re: from default] Command started
[ounit: from default] Command started
[default] http://opam-archive:8080/archives/ounit.2.0.0+opam.tar.gz downloaded
[react: from default] Command started
[react: from default] Command started
[default] http://opam-archive:8080/archives/react.1.2.0+opam.tar.gz downloaded
[sexplib: from default] Command started
[sexplib: from default] Command started
[default] http://opam-archive:8080/archives/sexplib.112.24.01+opam.tar.gz downloaded
[ssl: from default] Command started
[ssl: from default] Command started
[default] http://opam-archive:8080/archives/ssl.0.4.7+opam.tar.gz downloaded
[stringext: from default] Command started
[stringext: from default] Command started
[optcomp: from default] Command started
[default] http://opam-archive:8080/archives/stringext.1.1.0+opam.tar.gz downloaded
[type_conv: from default] Command started
[default] http://opam-archive:8080/archives/optcomp.1.6+opam.tar.gz downloaded
[uri: from default] Command started
[re: from default] Command started
[default] http://opam-archive:8080/archives/re.1.2.2+opam.tar.gz downloaded
[uutf: from default] Command started
[uutf: from default] Command started
[ERROR] The sources of the following couldn't be obtained, aborting:
          - cudf.0.7
          - dose.3.2.2+opam
        (This may be fixed by running 'opam update')
[default] http://opam-archive:8080/archives/uutf.0.9.4+opam.tar.gz downloaded
[yojson: from default] Command started
[type_conv: from default] Command started
[default] http://opam-archive:8080/archives/type_conv.112.01.01+opam.tar.gz downloaded
[zed: from default] Command started
[uri: from default] Command started
[yojson: from default] Command started
[default] http://opam-archive:8080/archives/uri.1.7.2+opam.tar.gz downloaded
[zed: from default] Command started
[default] http://opam-archive:8080/archives/yojson.1.2.1+opam.tar.gz downloaded
[default] http://opam-archive:8080/archives/zed.1.3+opam.tar.gz downloaded
'opam install opam-publish' failed.
