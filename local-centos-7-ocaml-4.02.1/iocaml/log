+ uname -m
+ uname -s
+ opam list --safe --recursive --external=x86_64,linux,centos --required-by=iocaml
# Detecting depexts using flags: x86_64 linux centos
# The following system packages are needed:
#  - gmp
#  - gmp-devel
#  - libffi-devel
#  - pcre-devel
#  - zeromq3-devel
+ opam list --safe --recursive --external=source,x86_64,linux,centos --required-by=iocaml
Not running as root, the following command will be run through "sudo":
    yum -y update
+ sudo yum -y update
Loaded plugins: fastestmirror
Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast
Determining fastest mirrors
 * base: mirror.mhd.uk.as44574.net
 * extras: anorien.csc.warwick.ac.uk
 * updates: anorien.csc.warwick.ac.uk
Resolving Dependencies
--> Running transaction check
---> Package openssl-libs.x86_64 1:1.0.1e-42.el7.4 will be updated
---> Package openssl-libs.x86_64 1:1.0.1e-42.el7.6 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package            Arch         Version                    Repository     Size
================================================================================
Updating:
 openssl-libs       x86_64       1:1.0.1e-42.el7.6          updates       948 k

Transaction Summary
================================================================================
Upgrade  1 Package

Total download size: 948 k
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.1e-42.el7.6.x86_64                        1/2 
  Cleanup    : 1:openssl-libs-1.0.1e-42.el7.4.x86_64                        2/2 
  Verifying  : 1:openssl-libs-1.0.1e-42.el7.6.x86_64                        1/2 
  Verifying  : 1:openssl-libs-1.0.1e-42.el7.4.x86_64                        2/2 

Updated:
  openssl-libs.x86_64 1:1.0.1e-42.el7.6                                         

+ sudo yum install -y gmp gmp-devel libffi-devel pcre-devel zeromq3-devel
Complete!
# OS package update successful
Not running as root, the following command will be run through "sudo":
    yum install -y gmp gmp-devel libffi-devel pcre-devel zeromq3-devel
Not running as root, the following command will be run through "sudo":
    rpm -q gmp gmp-devel libffi-devel pcre-devel zeromq3-devel
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.mhd.uk.as44574.net
 * extras: anorien.csc.warwick.ac.uk
 * updates: anorien.csc.warwick.ac.uk
Package 1:gmp-6.0.0-11.el7.x86_64 already installed and latest version
No package zeromq3-devel available.
Resolving Dependencies
--> Running transaction check
---> Package gmp-devel.x86_64 1:6.0.0-11.el7 will be installed
---> Package libffi-devel.x86_64 0:3.0.13-11.el7 will be installed
---> Package pcre-devel.x86_64 0:8.32-14.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package              Arch           Version                 Repository    Size
================================================================================
Installing:
 gmp-devel            x86_64         1:6.0.0-11.el7          base         180 k
 libffi-devel         x86_64         3.0.13-11.el7           base          22 k
 pcre-devel           x86_64         8.32-14.el7             base         477 k

Transaction Summary
================================================================================
Install  3 Packages

Total download size: 680 k
Installed size: 1.8 M
Downloading packages:
--------------------------------------------------------------------------------
Total                                              1.6 MB/s | 680 kB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : 1:gmp-devel-6.0.0-11.el7.x86_64                              1/3 
  Installing : pcre-devel-8.32-14.el7.x86_64                                2/3Non-fatal POSTIN scriptlet failure in rpm package libffi-devel-3.0.13-11.el7.x86_64 
  Installing : libffi-devel-3.0.13-11.el7.x86_64                            3/3 
install-info: No such file or directory for /usr/share/info/libffi.info.gz
warning: %post(libffi-devel-3.0.13-11.el7.x86_64) scriptlet failed, exit status 1

  Verifying  : libffi-devel-3.0.13-11.el7.x86_64                            1/3 
  Verifying  : pcre-devel-8.32-14.el7.x86_64                                2/3 
  Verifying  : 1:gmp-devel-6.0.0-11.el7.x86_64                              3/3 

Installed:
  gmp-devel.x86_64 1:6.0.0-11.el7      libffi-devel.x86_64 0:3.0.13-11.el7     
  pcre-devel.x86_64 0:8.32-14.el7     

+ sudo rpm -q gmp gmp-devel libffi-devel pcre-devel zeromq3-devel
Complete!
gmp-6.0.0-11.el7.x86_64
opam-depext: internal error, uncaught exception:
             Failure("OS package installation failed")
             
gmp-devel-6.0.0-11.el7.x86_64
libffi-devel-3.0.13-11.el7.x86_64
pcre-devel-8.32-14.el7.x86_64
package zeromq3-devel is not installed
