++ opam install efl -e debian
+ depext=m4
Debian depexts: m4
+ echo Debian depexts: m4
+ '[' m4 '!=' '' ']'
+ sudo apt-get update -y
Ign http://archive.ubuntu.com trusty InRelease
Ign http://archive.ubuntu.com trusty-updates InRelease
Ign http://archive.ubuntu.com trusty-security InRelease
Hit http://archive.ubuntu.com trusty Release.gpg
Get:1 http://archive.ubuntu.com trusty-updates Release.gpg [933 B]
Get:2 http://archive.ubuntu.com trusty-security Release.gpg [933 B]
Hit http://archive.ubuntu.com trusty Release
Get:3 http://archive.ubuntu.com trusty-updates Release [62.0 kB]
Get:4 http://archive.ubuntu.com trusty-security Release [62.0 kB]
Hit http://archive.ubuntu.com trusty/main Sources
Hit http://archive.ubuntu.com trusty/restricted Sources
Hit http://archive.ubuntu.com trusty/universe Sources
Hit http://archive.ubuntu.com trusty/main amd64 Packages
Hit http://archive.ubuntu.com trusty/restricted amd64 Packages
Hit http://archive.ubuntu.com trusty/universe amd64 Packages
Get:5 http://archive.ubuntu.com trusty-updates/main Sources [234 kB]
Get:6 http://archive.ubuntu.com trusty-updates/restricted Sources [2310 B]
Get:7 http://archive.ubuntu.com trusty-updates/universe Sources [133 kB]
Get:8 http://archive.ubuntu.com trusty-updates/main amd64 Packages [574 kB]
Get:9 http://archive.ubuntu.com trusty-updates/restricted amd64 Packages [15.1 kB]
Get:10 http://archive.ubuntu.com trusty-updates/universe amd64 Packages [338 kB]
Get:11 http://archive.ubuntu.com trusty-security/main Sources [89.6 kB]
Get:12 http://archive.ubuntu.com trusty-security/restricted Sources [1874 B]
Get:13 http://archive.ubuntu.com trusty-security/universe Sources [19.6 kB]
Get:14 http://archive.ubuntu.com trusty-security/main amd64 Packages [280 kB]
Get:15 http://archive.ubuntu.com trusty-security/restricted amd64 Packages [14.8 kB]
Get:16 http://archive.ubuntu.com trusty-security/universe amd64 Packages [114 kB]
Fetched 1942 kB in 5s (383 kB/s)
Reading package lists...
+ sudo apt-get install -qq -y build-essential m4
+ sudo apt-get install -qq -y m4
++ opam install efl -e source,linux
+ srcext=https://gist.githubusercontent.com/axiles/7be06b1fac09d99edf9a/raw/fc8dc050b5f94d91dd49dda2ba29f3c16815c5a8/install_efl_1_13_on_ubuntu
+ echo Debian srcexts: https://gist.githubusercontent.com/axiles/7be06b1fac09d99edf9a/raw/fc8dc050b5f94d91dd49dda2ba29f3c16815c5a8/install_efl_1_13_on_ubuntu
+ '[' https://gist.githubusercontent.com/axiles/7be06b1fac09d99edf9a/raw/fc8dc050b5f94d91dd49dda2ba29f3c16815c5a8/install_efl_1_13_on_ubuntu '!=' '' ']'
Debian srcexts: https://gist.githubusercontent.com/axiles/7be06b1fac09d99edf9a/raw/fc8dc050b5f94d91dd49dda2ba29f3c16815c5a8/install_efl_1_13_on_ubuntu
++ mktemp
+ t=/tmp/tmp.RXeRMOiEQN
+ curl -sL https://gist.githubusercontent.com/axiles/7be06b1fac09d99edf9a/raw/fc8dc050b5f94d91dd49dda2ba29f3c16815c5a8/install_efl_1_13_on_ubuntu
+ bash -ex /tmp/tmp.RXeRMOiEQN
+ sudo apt-get install pkg-config libglib2.0-dev zlib1g-dev libfreetype6-dev libfontconfig1-dev libfribidi-dev freeglut3-dev libpng12-dev libjpeg-dev libtiff4-dev libgif-dev libx11-dev libxext-dev libxcomposite-dev libxdamage-dev libxfixes-dev libxrandr-dev libxinerama-dev libxss-dev libxp-dev libxtst-dev libxcursor-dev libxcb1-dev libxcb-shape0-dev libudev-dev libdbus-1-dev libsndfile1-dev libpoppler-dev libraw-dev libspectre-dev libgstreamer0.10-dev libxine-dev libvlc-dev libwebp-dev libmount-dev libssl-dev libcurl4-gnutls-dev libpulse-dev x11proto-xext-dev libpixman-1-dev libblkid-dev libwayland-dev cmake libexpat-dev
Reading package lists...
Building dependency tree...
Reading state information...
libx11-dev is already the newest version.
libxcb1-dev is already the newest version.
libxcb1-dev set to manually installed.
pkg-config is already the newest version.
The following extra packages will be installed:
  bsdmainutils cmake-data comerr-dev debhelper dh-apparmor freeglut3 gettext
  gettext-base gir1.2-freedesktop gir1.2-gstreamer-0.10 groff-base
  intltool-debian krb5-multidev libarchive13 libasprintf-dev libasprintf0c2
  libasyncns0 libavahi-client-dev libavahi-client3 libavahi-common-data
  libavahi-common-dev libavahi-common3 libblkid1 libcomerr2 libcroco3 libcups2
  libcupsfilters1 libcupsimage2 libcurl3-gnutls libdrm-dev libdrm-intel1
  libdrm-nouveau2 libdrm-radeon1 libdrm2 libelf1 libelfg0 libflac-dev libflac8
  libfreetype6 libgcrypt11-dev libgettextpo-dev libgettextpo0 libgif4
  libgl1-mesa-dev libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libglib2.0-bin
  libglu1-mesa libglu1-mesa-dev libgnutls-dev libgnutlsxx27 libgpg-error-dev
  libgs9 libgs9-common libgssapi-krb5-2 libgssrpc4 libgstreamer0.10-0
  libice-dev libice6 libidn11-dev libijs-0.35 libjasper1 libjbig-dev libjbig0
  libjbig2dec0 libjpeg-turbo8 libjpeg-turbo8-dev libjpeg8 libjpeg8-dev
  libk5crypto3 libkadm5clnt-mit9 libkadm5srv-mit9 libkdb5-7 libkrb5-3
  libkrb5-dev libkrb5support0 liblcms2-2 liblcms2-dev libldap2-dev libllvm3.4
  liblzma-dev liblzo2-2 libmail-sendmail-perl libmount1 libnettle4 libogg-dev
  libogg0 libp11-kit-dev libpaper-utils libpaper1 libpciaccess0 libpcre3-dev
  libpcrecpp0 libpipeline1 libpixman-1-0 libpoppler-private-dev libpoppler44
  libproxy-tools libproxy1 libpulse-mainloop-glib0 libpulse0 libpython-stdlib
  libpython2.7-minimal libpython2.7-stdlib libraw9 librtmp-dev libsm-dev
  libsm6 libsndfile1 libspectre1 libssl-doc libssl1.0.0
  libsys-hostname-long-perl libtasn1-6-dev libtiff5 libtiff5-dev libtiffxx5
  libtxc-dxtn-s2tc0 libudev1 libunistring0 libuuid1 libvlc5 libvlccore7
  libvorbis-dev libvorbis0a libvorbisenc2 libvorbisfile3 libwayland-client0
  libwayland-cursor0 libwayland-server0 libwebp5 libwebpdemux1 libwebpmux1
  libwrap0 libx11-xcb-dev libx11-xcb1 libxcb-dri2-0 libxcb-dri2-0-dev
  libxcb-dri3-0 libxcb-dri3-dev libxcb-glx0 libxcb-glx0-dev libxcb-present-dev
  libxcb-present0 libxcb-randr0 libxcb-randr0-dev libxcb-render0
  libxcb-render0-dev libxcb-shape0 libxcb-sync-dev libxcb-sync1 libxcb-xfixes0
  libxcb-xfixes0-dev libxcomposite1 libxcursor1 libxdamage1 libxfixes3
  libxi-dev libxi6 libxine1-bin libxinerama1 libxml2-dev libxp6 libxrandr2
  libxrender-dev libxshmfence-dev libxshmfence1 libxt-dev libxt6 libxtst6
  libxxf86vm-dev libxxf86vm1 man-db mesa-common-dev po-debconf poppler-data
  python python-minimal python2.7 python2.7-minimal tcpd udev uuid-dev
  vlc-data x11proto-composite-dev x11proto-damage-dev x11proto-dri2-dev
  x11proto-fixes-dev x11proto-gl-dev x11proto-print-dev x11proto-randr-dev
  x11proto-record-dev x11proto-render-dev x11proto-scrnsaver-dev
  x11proto-xf86vidmode-dev x11proto-xinerama-dev
Suggested packages:
  wamerican wordlist whois vacation codeblocks eclipse doc-base dh-make
  apparmor-easyprof gettext-doc groff krb5-doc lrzip cups-common libcurl4-doc
  libcurl3-dbg libgcrypt11-doc libglide3 libglib2.0-doc gnutls26-doc
  gnutls-bin fonts-droid krb5-user gstreamer0.10-tools
  gstreamer0.10-plugins-base gstreamer0.10-doc libice-doc libjasper-runtime
  liblcms2-utils liblzma-doc pciutils pulseaudio libsm-doc libspectre1-dbg
  libxext-doc libxt-doc www-browser libmail-box-perl poppler-utils ghostscript
  fonts-japanese-mincho fonts-ipafont-mincho fonts-japanese-gothic
  fonts-ipafont-gothic fonts-arphic-ukai fonts-arphic-uming fonts-unfonts-core
  python-doc python-tk python2.7-doc binfmt-support
Recommended packages:
  uuid-runtime
The following NEW packages will be installed:
  bsdmainutils cmake cmake-data comerr-dev debhelper dh-apparmor freeglut3
  freeglut3-dev gettext gettext-base gir1.2-freedesktop gir1.2-gstreamer-0.10
  groff-base intltool-debian krb5-multidev libarchive13 libasprintf-dev
  libasprintf0c2 libasyncns0 libavahi-client-dev libavahi-client3
  libavahi-common-data libavahi-common-dev libavahi-common3 libblkid-dev
  libcroco3 libcups2 libcupsfilters1 libcupsimage2 libcurl4-gnutls-dev
  libdbus-1-dev libdrm-dev libdrm-intel1 libdrm-nouveau2 libdrm-radeon1
  libelf1 libelfg0 libexpat1-dev libflac-dev libflac8 libfontconfig1-dev
  libfreetype6-dev libfribidi-dev libgcrypt11-dev libgettextpo-dev
  libgettextpo0 libgif-dev libgif4 libgl1-mesa-dev libgl1-mesa-dri
  libgl1-mesa-glx libglapi-mesa libglib2.0-bin libglib2.0-dev libglu1-mesa
  libglu1-mesa-dev libgnutls-dev libgnutlsxx27 libgpg-error-dev libgs9
  libgs9-common libgssrpc4 libgstreamer0.10-0 libgstreamer0.10-dev libice-dev
  libice6 libidn11-dev libijs-0.35 libjasper1 libjbig-dev libjbig0
  libjbig2dec0 libjpeg-dev libjpeg-turbo8 libjpeg-turbo8-dev libjpeg8
  libjpeg8-dev libkadm5clnt-mit9 libkadm5srv-mit9 libkdb5-7 libkrb5-dev
  liblcms2-2 liblcms2-dev libldap2-dev libllvm3.4 liblzma-dev liblzo2-2
  libmail-sendmail-perl libmount-dev libnettle4 libogg-dev libogg0
  libp11-kit-dev libpaper-utils libpaper1 libpciaccess0 libpcre3-dev
  libpcrecpp0 libpipeline1 libpixman-1-0 libpixman-1-dev libpng12-dev
  libpoppler-dev libpoppler-private-dev libpoppler44 libproxy-tools libproxy1
  libpulse-dev libpulse-mainloop-glib0 libpulse0 libpython-stdlib
  libpython2.7-minimal libpython2.7-stdlib libraw-dev libraw9 librtmp-dev
  libsm-dev libsm6 libsndfile1 libsndfile1-dev libspectre-dev libspectre1
  libssl-dev libssl-doc libsys-hostname-long-perl libtasn1-6-dev libtiff4-dev
  libtiff5 libtiff5-dev libtiffxx5 libtxc-dxtn-s2tc0 libudev-dev libunistring0
  libvlc-dev libvlc5 libvlccore7 libvorbis-dev libvorbis0a libvorbisenc2
  libvorbisfile3 libwayland-client0 libwayland-cursor0 libwayland-dev
  libwayland-server0 libwebp-dev libwebp5 libwebpdemux1 libwebpmux1 libwrap0
  libx11-xcb-dev libx11-xcb1 libxcb-dri2-0 libxcb-dri2-0-dev libxcb-dri3-0
  libxcb-dri3-dev libxcb-glx0 libxcb-glx0-dev libxcb-present-dev
  libxcb-present0 libxcb-randr0 libxcb-randr0-dev libxcb-render0
  libxcb-render0-dev libxcb-shape0 libxcb-shape0-dev libxcb-sync-dev
  libxcb-sync1 libxcb-xfixes0 libxcb-xfixes0-dev libxcomposite-dev
  libxcomposite1 libxcursor-dev libxcursor1 libxdamage-dev libxdamage1
  libxext-dev libxfixes-dev libxfixes3 libxi-dev libxi6 libxine-dev
  libxine1-bin libxinerama-dev libxinerama1 libxml2-dev libxp-dev libxp6
  libxrandr-dev libxrandr2 libxrender-dev libxshmfence-dev libxshmfence1
  libxss-dev libxt-dev libxt6 libxtst-dev libxtst6 libxxf86vm-dev libxxf86vm1
  man-db mesa-common-dev po-debconf poppler-data python python-minimal
  python2.7 python2.7-minimal tcpd uuid-dev vlc-data x11proto-composite-dev
  x11proto-damage-dev x11proto-dri2-dev x11proto-fixes-dev x11proto-gl-dev
  x11proto-print-dev x11proto-randr-dev x11proto-record-dev
  x11proto-render-dev x11proto-scrnsaver-dev x11proto-xext-dev
  x11proto-xf86vidmode-dev x11proto-xinerama-dev zlib1g-dev
The following packages will be upgraded:
  libblkid1 libcomerr2 libcurl3-gnutls libdrm2 libfreetype6 libgssapi-krb5-2
  libk5crypto3 libkrb5-3 libkrb5support0 libmount1 libssl1.0.0 libudev1
  libuuid1 udev
14 upgraded, 224 newly installed, 0 to remove and 51 not upgraded.
Need to get 64.8 MB of archives.
After this operation, 288 MB of additional disk space will be used.
Do you want to continue? [Y/n] Abort.
+ opam install efl
The following actions will be performed:
  - install ocamlfind 1.5.5                                     [required by efl]
  - install efl       1.13.0
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[efl: from default] Command started
[ocamlfind: from default] Command started
[ocamlfind: from default] Command started
[efl: from default] Command started
[default] http://opam-archive:8080/archives/ocamlfind.1.5.5+opam.tar.gz downloaded
[default] http://opam-archive:8080/archives/efl.1.13.0+opam.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[ocamlfind: ./configure] Command started
+ ./configure "-bindir" "/home/opam/.opam/system/bin" "-sitelib" "/home/opam/.opam/system/lib" "-mandir" "/home/opam/.opam/system/man" "-config" "/home/opam/.opam/system/lib/findlib.conf" "-no-topfind" (CWD=/home/opam/.opam/system/build/ocamlfind.1.5.5)
- Welcome to findlib version 1.5.5
- Configuring core...
- Checking for #remove_directory...
- Testing threading model...
- systhread_supported: true
- Testing DLLs...
- Testing whether ppxopt can be supported...
- Configuring libraries...
- native dynlink: found
- labltk: found
- ocamlbuild: found
- camlp4: using camlp4, style 310
- compiler-libs: found
- dbm: not present (normal since OCaml-4.00)
- bytes: not found, installing compat library
- Configuration for dynlink written to site-lib-src/dynlink/META
- Configuration for graphics written to site-lib-src/graphics/META
- Configuration for num written to site-lib-src/num/META
- Configuration for num-top written to site-lib-src/num-top/META
- Configuration for str written to site-lib-src/str/META
- Configuration for threads written to site-lib-src/threads/META
- Configuration for unix written to site-lib-src/unix/META
- Configuration for stdlib written to site-lib-src/stdlib/META
- Configuration for bigarray written to site-lib-src/bigarray/META
- Configuration for labltk written to site-lib-src/labltk/META
- Configuration for camlp4 written to site-lib-src/camlp4/META
- Configuration for ocamlbuild written to site-lib-src/ocamlbuild/META
- Configuration for compiler-libs written to site-lib-src/compiler-libs/META
- Detecting compiler arguments: (extractor built) ok
- 
- About the OCAML core installation:
-     Standard library:      /usr/lib/ocaml
-     Binaries:              /usr/bin
-     Manual pages:          /usr/local/man
-     Multi-threading type:  posix
- The directory of site-specific packages will be
-     site-lib:              /home/opam/.opam/system/lib
- The configuration file is written to:
-     findlib config file:   /home/opam/.opam/system/lib/findlib.conf
- Software will be installed:
-     Libraries:             in <site-lib>/findlib
-     Binaries:              /home/opam/.opam/system/bin
-     Manual pages:          /home/opam/.opam/system/man
-     topfind script:        omitted
- Topfind ppxopt support:    no
- Toolbox:                   no
- Link custom runtime:       yes
- Need bytes compatibility:  yes
- 
- Configuration has been written to Makefile.config
- 
- You can now do 'make all', and optionally 'make opt', to build ocamlfind.
- File "itest-aux/ppx.ml", line 1, characters 0-25:
- Error: Unbound value Toploop.preprocess_phrase
[ocamlfind: make all] Command started
+ make "all" (CWD=/home/opam/.opam/system/build/ocamlfind.1.5.5)
- for p in findlib bytes; do ( cd src/$p; make all ) || exit; done
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- ocamllex fl_meta.mll
- 22 states, 392 transitions, table size 1700 bytes
- ocamldep *.ml *.mli >depend
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat findlib_config.mlp | \
- 		../../tools/patch '@CONFIGFILE@' '/home/opam/.opam/system/lib/findlib.conf' | \
- 		../../tools/patch '@STDLIB@' '/usr/lib/ocaml' | \
- 		sed -e 's;@AUTOLINK@;true;g' \
- 		    -e 's;@SYSTEM@;linux;g' \
- 		     >findlib_config.ml
- ocamlc -I +compiler-libs -g -c findlib_config.ml
- ocamlc -I +compiler-libs -g -c fl_split.ml
- ocamlc -I +compiler-libs -g -c fl_metatoken.ml
- ocamlc -I +compiler-libs -g -c fl_meta.ml
- ocamlc -I +compiler-libs -c fl_metascanner.mli
- ocamlc -I +compiler-libs -g -c fl_metascanner.ml
- ocamlc -I +compiler-libs -c fl_topo.mli
- ocamlc -I +compiler-libs -g -c fl_topo.ml
- ocamlc -I +compiler-libs -c fl_package_base.mli
- ocamlc -I +compiler-libs -g -c fl_package_base.ml
- ocamlc -I +compiler-libs -c findlib.mli
- ocamlc -I +compiler-libs -g -c findlib.ml
- ocamlc -I +compiler-libs -g -c fl_args.ml
- ocamlc -I +compiler-libs -a -o findlib.cma findlib_config.cmo fl_split.cmo fl_metatoken.cmo fl_meta.cmo fl_metascanner.cmo fl_topo.cmo fl_package_base.cmo findlib.cmo fl_args.cmo
- ocamlc -I +compiler-libs -g -c ocaml_args.ml
- Makefile:160: depend: No such file or directory
- ocamlc -I +compiler-libs -g -c frontend.ml
- ocamlc -I +compiler-libs -custom -o ocamlfind -g findlib.cma unix.cma \
- 	           ocaml_args.cmo frontend.cmo
- if [ "false" = "true" ]; then                 \
- 		cp topfind.ml.in topfind.ml;                             \
- 	else                                                             \
- 		sed -e '/PPXOPT_BEGIN/,/PPXOPT_END/ d' topfind.ml.in     \
- 			> topfind.ml ;                                   \
- 	fi
- ocamlc -I +compiler-libs -c topfind.mli
- ocamlc -I +compiler-libs -g -c topfind.ml
- ocamlc -I +compiler-libs -a -o findlib_top.cma topfind.cmo
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat topfind_rd1.p | \
- 		../../tools/patch '@SITELIB@' '/home/opam/.opam/system/lib' \
- 	    	    >topfind
- ocamlc -I +compiler-libs -c num_top_printers.mli
- ocamlc -I +compiler-libs -g -c num_top_printers.ml
- ocamlc -I +compiler-libs -c num_top.mli
- ocamlc -I +compiler-libs -g -c num_top.ml
- ocamlc -I +compiler-libs -a -o num_top.cma num_top_printers.cmo num_top.cmo
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/bytes'
- ocamlbuild -classic-display -no-links bytes.cmi bytes.cma
- /usr/bin/ocamldep.opt -modules bytes.ml > bytes.ml.depends
- /usr/bin/ocamlc.opt -c -o bytes.cmo bytes.ml
- /usr/bin/ocamlc.opt -a bytes.cmo -o bytes.cma
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/bytes'
- make all-config
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
- USE_CYGPATH="0"; \
- 	export USE_CYGPATH; \
- 	cat findlib.conf.in | \
- 		tools/patch '@SITELIB@' '/home/opam/.opam/system/lib' >findlib.conf
- if ocamlc.opt >/dev/null 2>&1; then \
- 		echo 'ocamlc="ocamlc.opt"' >>findlib.conf; \
- 	fi
- if ocamlopt.opt >/dev/null 2>&1; then \
- 		echo 'ocamlopt="ocamlopt.opt"' >>findlib.conf; \
- 	fi
- if ocamldep.opt >/dev/null 2>&1; then \
- 		echo 'ocamldep="ocamldep.opt"' >>findlib.conf; \
- 	fi
- if ocamldoc.opt >/dev/null 2>&1; then \
- 		echo 'ocamldoc="ocamldoc.opt"' >>findlib.conf; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
[ocamlfind: make opt] Command started
+ make "opt" (CWD=/home/opam/.opam/system/build/ocamlfind.1.5.5)
- for p in findlib bytes; do ( cd src/$p; make opt ) || exit; done
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- ocamldep *.ml *.mli >depend
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- ocamlopt -I +compiler-libs -c findlib_config.ml
- ocamlopt -I +compiler-libs -c fl_split.ml
- ocamlopt -I +compiler-libs -c fl_metatoken.ml
- ocamlopt -I +compiler-libs -c fl_meta.ml
- ocamlopt -I +compiler-libs -c fl_metascanner.ml
- ocamlopt -I +compiler-libs -c fl_topo.ml
- ocamlopt -I +compiler-libs -c fl_package_base.ml
- ocamlopt -I +compiler-libs -c findlib.ml
- ocamlopt -I +compiler-libs -c fl_args.ml
- ocamlopt -I +compiler-libs -a -o findlib.cmxa findlib_config.cmx fl_split.cmx fl_metatoken.cmx fl_meta.cmx fl_metascanner.cmx fl_topo.cmx fl_package_base.cmx findlib.cmx fl_args.cmx
- if [ 1 -gt 0 ]; then \
- 	    ocamlopt -I +compiler-libs -shared -o findlib.cmxs findlib_config.cmx fl_split.cmx fl_metatoken.cmx fl_meta.cmx fl_metascanner.cmx fl_topo.cmx fl_package_base.cmx findlib.cmx fl_args.cmx; \
- 	fi
- ocamlopt -I +compiler-libs -c ocaml_args.ml
- ocamlopt -I +compiler-libs -c frontend.ml
- ocamlopt -I +compiler-libs -o ocamlfind_opt findlib.cmxa unix.cmxa \
- 		   ocaml_args.cmx frontend.cmx
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/bytes'
- files="bytes.cmx bytes.a bytes.cmxa"; \
- 	if [ 1 = 1 ]; then \
- 	    files="$files bytes.cmxs"; \
- 	fi; \
- 	ocamlbuild -classic-display -no-links $files
- /usr/bin/ocamlopt.opt -c -o bytes.cmx bytes.ml
- /usr/bin/ocamlopt.opt -a bytes.cmx -o bytes.cmxa
- /usr/bin/ocamlopt.opt -shared bytes.cmx -o bytes.cmxs
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/bytes'
[ocamlfind: make install] Command started
+ make "install" (CWD=/home/opam/.opam/system/build/ocamlfind.1.5.5)
- mkdir -p "/home/opam/.opam/system/bin"
- mkdir -p "/home/opam/.opam/system/man"
- make install-config
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
- mkdir -p "`dirname \"/home/opam/.opam/system/lib/findlib.conf\"`"
- test -f "/home/opam/.opam/system/lib/findlib.conf" || cp findlib.conf "/home/opam/.opam/system/lib/findlib.conf"
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
- for p in findlib bytes; do ( cd src/$p; make install ); done
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- mkdir -p "/home/opam/.opam/system/lib/findlib"
- mkdir -p "/home/opam/.opam/system/bin"
- test 0 -eq 0 || cp topfind "/usr/lib/ocaml"
- files=`../../tools/collect_files ../../Makefile.config findlib.cmi findlib.mli findlib.cma topfind.cmi topfind.mli fl_package_base.mli fl_package_base.cmi fl_metascanner.mli fl_metascanner.cmi fl_metatoken.cmi findlib_top.cma findlib.cmxa findlib.a findlib.cmxs META` && \
- 	cp $files "/home/opam/.opam/system/lib/findlib"
- f="ocamlfind"; { test -f ocamlfind_opt && f="ocamlfind_opt"; }; \
- 	cp $f "/home/opam/.opam/system/bin/ocamlfind"
- # the following "if" block is only needed for 4.00beta2
- if [ 1 -eq 0 -a -f "/usr/lib/ocaml/compiler-libs/topdirs.cmi" ]; then \
- 	    cd "/usr/lib/ocaml/compiler-libs/"; \
- 	    cp topdirs.cmi toploop.cmi "/home/opam/.opam/system/lib/findlib/"; \
- 	fi
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/bytes'
- ocamlbuild -classic-display -no-links bytes.cmi bytes.cma
- mkdir -p "/home/opam/.opam/system/lib/bytes"
- cd _build/ && cp ../META bytes.cmi bytes.cma "/home/opam/.opam/system/lib/bytes"
- cd _build/ && for f in bytes.cmx bytes.a bytes.cmxa bytes.cmxs; do if [ -f "$f" ]; then cp $f "/home/opam/.opam/system/lib/bytes"; fi; done
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/bytes'
- make install-meta
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
- for x in `ls site-lib-src`; do if [ "$x" != "CVS" -a -f "site-lib-src/$x/META" ]; then mkdir -p "/home/opam/.opam/system/lib/$x"; cp site-lib-src/$x/META "/home/opam/.opam/system/lib/$x"; fi; done
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
- cd src/findlib; make install-num-top
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- mkdir -p "/home/opam/.opam/system/lib/num-top"
- cp num_top.cma num_top.cmi num_top_printers.cmi \
- 		"/home/opam/.opam/system/lib/num-top"
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5/src/findlib'
- if [ 1 -eq 1 ]; then \
- 		cp tools/safe_camlp4 "/home/opam/.opam/system/bin"; \
- 	fi
- make install-doc
- make[1]: Entering directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
- mkdir -p /home/opam/.opam/system/man/man1 /home/opam/.opam/system/man/man3 /home/opam/.opam/system/man/man5
- cp doc/ref-man/ocamlfind.1 /home/opam/.opam/system/man/man1
- cp doc/ref-man/META.5 doc/ref-man/site-lib.5 doc/ref-man/findlib.conf.5 /home/opam/.opam/system/man/man5
- make[1]: Leaving directory `/home/opam/.opam/system/build/ocamlfind.1.5.5'
-> installed ocamlfind.1.5.5
[efl: ./configure] Command started
+ ./configure "--prefix=/home/opam/.opam/system" "OCAMLFIND_DESTDIR=/home/opam/.opam/system/lib" (CWD=/home/opam/.opam/system/build/efl.1.13.0)
- checking for a BSD-compatible install... /usr/bin/install -c
- checking whether build environment is sane... yes
- checking for a thread-safe mkdir -p... /bin/mkdir -p
- checking for gawk... no
- checking for mawk... mawk
- checking whether make sets $(MAKE)... yes
- checking whether make supports nested variables... yes
- checking for ocamlc... ocamlc
- OCaml version is 4.01.0
- OCaml library path is /usr/lib/ocaml
- checking for ocamlopt... ocamlopt
- checking for ocamlc.opt... ocamlc.opt
- checking for ocamlopt.opt... ocamlopt.opt
- checking for ocaml... ocaml
- checking for ocamldep... ocamldep
- checking for ocamlmktop... ocamlmktop
- checking for ocamlmklib... ocamlmklib
- checking for ocamldoc... ocamldoc
- checking for ocamlbuild... ocamlbuild
- checking for ocamlfind... ocamlfind
- checking for pkg-config... /usr/bin/pkg-config
- checking pkg-config is at least version 0.9.0... yes
- checking for ELEMENTARY... no
[ERROR] The compilation of efl failed at "./configure
        --prefix=/home/opam/.opam/system
        OCAMLFIND_DESTDIR=/home/opam/.opam/system/lib".
- configure: error: Package requirements (elementary >= 1.8) were not met:
- 
- No package 'elementary' found
- 
- Consider adjusting the PKG_CONFIG_PATH environment variable if you
- installed software in a non-standard prefix.
- 
- Alternatively, you may set the environment variables ELEMENTARY_CFLAGS
- and ELEMENTARY_LIBS to avoid the need to call pkg-config.
- See the pkg-config man page for more details.
[efl: ocamlfind remove] Command started
+ ocamlfind "remove" "efl" (CWD=/home/opam/.opam/system/build/efl.1.13.0)
- ocamlfind: [WARNING] No such directory: /home/opam/.opam/system/lib/efl

#=== ERROR while installing efl.1.13.0 ========================================#
# opam-version         1.2.1 (ab224ffd593a168871a14182d6e69d3a902c3f27)
# os                   linux
# command              ./configure --prefix=/home/opam/.opam/system OCAMLFIND_DESTDIR=/home/opam/.opam/system/lib
# path                 /home/opam/.opam/system/build/efl.1.13.0
# compiler             system (4.01.0)
# exit-code            1
# env-file             /home/opam/.opam/system/build/efl.1.13.0/efl-60-2dea01.env
# stdout-file          /home/opam/.opam/system/build/efl.1.13.0/efl-60-2dea01.out
# stderr-file          /home/opam/.opam/system/build/efl.1.13.0/efl-60-2dea01.err
### stdout ###
# [...]
# checking for ocaml... ocaml
# checking for ocamldep... ocamldep
# checking for ocamlmktop... ocamlmktop
# checking for ocamlmklib... ocamlmklib
# checking for ocamldoc... ocamldoc
# checking for ocamlbuild... ocamlbuild
# checking for ocamlfind... ocamlfind
# checking for pkg-config... /usr/bin/pkg-config
# checking pkg-config is at least version 0.9.0... yes
# checking for ELEMENTARY... no
### stderr ###
# [...]
# configure: error: Package requirements (elementary >= 1.8) were not met:
# 
# No package 'elementary' found
# 
# Consider adjusting the PKG_CONFIG_PATH environment variable if you
# installed software in a non-standard prefix.
# 
# Alternatively, you may set the environment variables ELEMENTARY_CFLAGS
# and ELEMENTARY_LIBS to avoid the need to call pkg-config.
# See the pkg-config man page for more details.



=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install efl 1.13.0
The following changes have been performed
  - install ocamlfind 1.5.5

The former state can be restored with:
    opam switch import "~/.opam/system/backup/state-20150219003726.export"
'opam install efl' failed.
