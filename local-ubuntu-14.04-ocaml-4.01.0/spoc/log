/usr/bin/lsb_release
# Detecting depexts using flags: x86_64 linux ubuntu
# The following system packages are needed:
#  - m4
Not running as root, system installation will be done through "sudo"
Ign http://archive.ubuntu.com trusty InRelease
Ign http://archive.ubuntu.com trusty-updates InRelease
Ign http://archive.ubuntu.com trusty-security InRelease
Hit http://archive.ubuntu.com trusty Release.gpg
Get:1 http://archive.ubuntu.com trusty-updates Release.gpg [933 B]
Hit http://archive.ubuntu.com trusty-security Release.gpg
Hit http://archive.ubuntu.com trusty Release
Get:2 http://archive.ubuntu.com trusty-updates Release [63.5 kB]
Hit http://archive.ubuntu.com trusty-security Release
Hit http://archive.ubuntu.com trusty/main Sources
Hit http://archive.ubuntu.com trusty/restricted Sources
Hit http://archive.ubuntu.com trusty/universe Sources
Hit http://archive.ubuntu.com trusty/main amd64 Packages
Hit http://archive.ubuntu.com trusty/restricted amd64 Packages
Hit http://archive.ubuntu.com trusty/universe amd64 Packages
Get:3 http://archive.ubuntu.com trusty-updates/main Sources [241 kB]
Get:4 http://archive.ubuntu.com trusty-updates/restricted Sources [2310 B]
Get:5 http://archive.ubuntu.com trusty-updates/universe Sources [133 kB]
Get:6 http://archive.ubuntu.com trusty-updates/main amd64 Packages [619 kB]
Get:7 http://archive.ubuntu.com trusty-updates/restricted amd64 Packages [15.1 kB]
Get:8 http://archive.ubuntu.com trusty-updates/universe amd64 Packages [340 kB]
Hit http://archive.ubuntu.com trusty-security/main Sources
Hit http://archive.ubuntu.com trusty-security/restricted Sources
Hit http://archive.ubuntu.com trusty-security/universe Sources
Hit http://archive.ubuntu.com trusty-security/main amd64 Packages
Hit http://archive.ubuntu.com trusty-security/restricted amd64 Packages
Hit http://archive.ubuntu.com trusty-security/universe amd64 Packages
Fetched 1414 kB in 4s (301 kB/s)
Reading package lists...
# OS package update successful
Not running as root, system installation will be done through "sudo"
# OS packages installation successful
The following actions will be performed:
  - install ocp-build 0.1                                       [required by spoc]
  - install spoc      20140620
===== 2 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[ocp-build: from default] Command started
[spoc: from default] Command started
[ocp-build: from default] Command started
[default] http://opam-archive:8080/archives/ocp-build.0.1+opam.tar.gz downloaded
[spoc: from default] Command started
[default] http://opam-archive:8080/archives/spoc.20140620+opam.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[ocp-build: make] Command started
+ make  (CWD=/home/opam/.opam/system/build/ocp-build.0.1)
- mkdir -p ./_obuild
- ocamlc -o ./_obuild/unixrun -make-runtime unix.cma
- _obuild/unixrun boot/ocp-build.boot -init -scan -sanitize -v 0 ocp-build
- ocp-build: Entering directory `/home/opam/.opam/system/build/ocp-build.0.1'
- ocp-build: Leaving directory `/home/opam/.opam/system/build/ocp-build.0.1'
- Compilation successful
- Cache: 0 digests loaded
- No error. 293 commands executed, 397 files generated.
[ERROR] The compilation of spoc failed at "make build".
-> installed ocp-build.0.1
[spoc: make build] Command started
+ make "build" (CWD=/home/opam/.opam/system/build/spoc.20140620)
- ocp-build -init
- ocp-build: Entering directory `/home/opam/.opam/system/build/spoc.20140620'
- ocp-build: Leaving directory `/home/opam/.opam/system/build/spoc.20140620'
- cd extension && make
- make[1]: Entering directory `/home/opam/.opam/system/build/spoc.20140620/extension'
- ocamlfind ocamlc -I +camlp4 -pp camlp4of dynlink.cma camlp4lib.cma kernels_ext.ml
- make[1]: Leaving directory `/home/opam/.opam/system/build/spoc.20140620/extension'
- Cache: 0 digests loaded
- make[1]: ocamlfind: Command not found
- make[1]: *** [kernels_ext.cma] Error 127
- make: *** [build] Error 2
[spoc: make uninstall] Command started
+ make "uninstall" (CWD=/home/opam/.opam/system/build/spoc.20140620)
- ocamlfind remove spoc
- make: ocamlfind: Command not found
- make: *** [uninstall] Error 127


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions failed
  - install spoc 20140620
The following changes have been performed
  - install ocp-build 0.1

#=== ERROR while installing spoc.20140620 =====================================#
# opam-version         1.2.1 (ab224ffd593a168871a14182d6e69d3a902c3f27)
# os                   linux
# command              make build
# path                 /home/opam/.opam/system/build/spoc.20140620
# compiler             system (4.01.0)
# exit-code            2
# env-file             /home/opam/.opam/system/build/spoc.20140620/spoc-6-6cc03f.env
# stdout-file          /home/opam/.opam/system/build/spoc.20140620/spoc-6-6cc03f.out
# stderr-file          /home/opam/.opam/system/build/spoc.20140620/spoc-6-6cc03f.err
### stdout ###
# ocp-build -init
# ocp-build: Entering directory `/home/opam/.opam/system/build/spoc.20140620'
# ocp-build: Leaving directory `/home/opam/.opam/system/build/spoc.20140620'
# cd extension && make
# make[1]: Entering directory `/home/opam/.opam/system/build/spoc.20140620/extension'
# ocamlfind ocamlc -I +camlp4 -pp camlp4of dynlink.cma camlp4lib.cma kernels_ext.ml
# make[1]: Leaving directory `/home/opam/.opam/system/build/spoc.20140620/extension'
### stderr ###
# Cache: 0 digests loaded
# make[1]: ocamlfind: Command not found
# make[1]: *** [kernels_ext.cma] Error 127
# make: *** [build] Error 2


The former state can be restored with:
    opam switch import "~/.opam/system/backup/state-20150230171943.export"
'opam install spoc' failed.
