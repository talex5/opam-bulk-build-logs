++ opam install llvm -e debian
+ depext=llvm-3.5-dev
+ echo Debian depexts: llvm-3.5-dev
Debian depexts: llvm-3.5-dev
+ '[' llvm-3.5-dev '!=' '' ']'
+ sudo apt-get update -y
Ign http://archive.ubuntu.com trusty InRelease
Ign http://archive.ubuntu.com trusty-updates InRelease
Ign http://archive.ubuntu.com trusty-security InRelease
Hit http://archive.ubuntu.com trusty Release.gpg
Get:1 http://archive.ubuntu.com trusty-updates Release.gpg [933 B]
Get:2 http://archive.ubuntu.com trusty-security Release.gpg [933 B]
Hit http://archive.ubuntu.com trusty Release
Get:3 http://archive.ubuntu.com trusty-updates Release [62.0 kB]
Get:4 http://archive.ubuntu.com trusty-security Release [62.0 kB]
Hit http://archive.ubuntu.com trusty/main Sources
Hit http://archive.ubuntu.com trusty/restricted Sources
Hit http://archive.ubuntu.com trusty/universe Sources
Hit http://archive.ubuntu.com trusty/main amd64 Packages
Hit http://archive.ubuntu.com trusty/restricted amd64 Packages
Hit http://archive.ubuntu.com trusty/universe amd64 Packages
Get:5 http://archive.ubuntu.com trusty-updates/main Sources [203 kB]
Get:6 http://archive.ubuntu.com trusty-updates/restricted Sources [1874 B]
Get:7 http://archive.ubuntu.com trusty-updates/universe Sources [121 kB]
Get:8 http://archive.ubuntu.com trusty-updates/main amd64 Packages [517 kB]
Get:9 http://archive.ubuntu.com trusty-updates/restricted amd64 Packages [14.8 kB]
Get:10 http://archive.ubuntu.com trusty-updates/universe amd64 Packages [313 kB]
Get:11 http://archive.ubuntu.com trusty-security/main Sources [79.3 kB]
Get:12 http://archive.ubuntu.com trusty-security/restricted Sources [1874 B]
Get:13 http://archive.ubuntu.com trusty-security/universe Sources [19.1 kB]
Get:14 http://archive.ubuntu.com trusty-security/main amd64 Packages [251 kB]
Get:15 http://archive.ubuntu.com trusty-security/restricted amd64 Packages [14.8 kB]
Get:16 http://archive.ubuntu.com trusty-security/universe amd64 Packages [109 kB]
Fetched 1770 kB in 6s (259 kB/s)
Reading package lists...
W: Size of file /var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_trusty-security_universe_source_Sources.gz is not what the server reported 19093 19096
+ sudo apt-get install -qq -y build-essential m4
+ sudo apt-get install -qq -y llvm-3.5-dev
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
Selecting previously unselected package libpipeline1:amd64.
(Reading database ... 22245 files and directories currently installed.)
Preparing to unpack .../libpipeline1_1.3.0-1_amd64.deb ...
Unpacking libpipeline1:amd64 (1.3.0-1) ...
Selecting previously unselected package libllvm3.5:amd64.
Preparing to unpack .../libllvm3.5_1%3a3.5~svn201651-1ubuntu1_amd64.deb ...
Unpacking libllvm3.5:amd64 (1:3.5~svn201651-1ubuntu1) ...
Selecting previously unselected package binfmt-support.
Preparing to unpack .../binfmt-support_2.1.4-1_amd64.deb ...
Unpacking binfmt-support (2.1.4-1) ...
Selecting previously unselected package llvm-3.5-runtime.
Preparing to unpack .../llvm-3.5-runtime_1%3a3.5~svn201651-1ubuntu1_amd64.deb ...
Unpacking llvm-3.5-runtime (1:3.5~svn201651-1ubuntu1) ...
Selecting previously unselected package llvm-3.5.
Preparing to unpack .../llvm-3.5_1%3a3.5~svn201651-1ubuntu1_amd64.deb ...
Unpacking llvm-3.5 (1:3.5~svn201651-1ubuntu1) ...
Selecting previously unselected package libffi-dev:amd64.
Preparing to unpack .../libffi-dev_3.1~rc1+r3.0.13-12_amd64.deb ...
Unpacking libffi-dev:amd64 (3.1~rc1+r3.0.13-12) ...
Selecting previously unselected package llvm-3.5-dev.
Preparing to unpack .../llvm-3.5-dev_1%3a3.5~svn201651-1ubuntu1_amd64.deb ...
Unpacking llvm-3.5-dev (1:3.5~svn201651-1ubuntu1) ...
Processing triggers for ureadahead (0.100.0-16) ...
Setting up libpipeline1:amd64 (1.3.0-1) ...
Setting up libllvm3.5:amd64 (1:3.5~svn201651-1ubuntu1) ...
Setting up binfmt-support (2.1.4-1) ...
mount: permission denied
update-binfmts: warning: Couldn't mount the binfmt_misc filesystem on /proc/sys/fs/binfmt_misc.
mount: permission denied
update-binfmts: warning: Couldn't mount the binfmt_misc filesystem on /proc/sys/fs/binfmt_misc.
invoke-rc.d: policy-rc.d denied execution of start.
Setting up libffi-dev:amd64 (3.1~rc1+r3.0.13-12) ...
Processing triggers for ureadahead (0.100.0-16) ...
Setting up llvm-3.5-runtime (1:3.5~svn201651-1ubuntu1) ...
mount: permission denied
update-binfmts: warning: Couldn't mount the binfmt_misc filesystem on /proc/sys/fs/binfmt_misc.
Setting up llvm-3.5 (1:3.5~svn201651-1ubuntu1) ...
Setting up llvm-3.5-dev (1:3.5~svn201651-1ubuntu1) ...
Processing triggers for libc-bin (2.19-0ubuntu6.4) ...
++ opam install llvm -e source,linux
Debian srcexts: https://gist.githubusercontent.com/jpdeplaix/58db9c49a79813fc1dda/raw
+ srcext=https://gist.githubusercontent.com/jpdeplaix/58db9c49a79813fc1dda/raw
+ echo Debian srcexts: https://gist.githubusercontent.com/jpdeplaix/58db9c49a79813fc1dda/raw
+ '[' https://gist.githubusercontent.com/jpdeplaix/58db9c49a79813fc1dda/raw '!=' '' ']'
++ mktemp
+ t=/tmp/tmp.X2ILQberP6
+ curl -sL https://gist.githubusercontent.com/jpdeplaix/58db9c49a79813fc1dda/raw
+ bash -ex /tmp/tmp.X2ILQberP6
+ sudo add-apt-repository 'deb http://llvm.org/apt/precise/ llvm-toolchain-precise-3.5 main'
+ wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key
/tmp/tmp.X2ILQberP6: line 4: wget: command not found
+ sudo apt-key add -
gpg: no valid OpenPGP data found.
+ opam install llvm
The following actions will be performed:
 - install   llvm.3.5
=== 1 to install ===

=-=- Synchronizing package archives -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[default] Downloading http://opam-archive:8080/archives/llvm.3.5+opam.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100 16.3M  100 16.3M    0     0  52.7M      0 --:--:-- --:--:-- --:--:-- 52.9M
200

=-=- Installing packages =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Applying makefile+build.patch.
patching file bindings/ocaml/Makefile
Applying makefile+system.patch.
patching file bindings/ocaml/Makefile.ocaml
Building llvm.3.5:
  ./compile.sh install 3.5 make /home/opam/.opam/system /home/opam/.opam/system/lib
stat: cannot stat '/usr/local/Cellar/llvm/3.5*/bin/llvm-config': No such file or directory
Executing: ./configure CC=gcc CXX=g++ --disable-compiler-version-checks --prefix=/home/opam/.opam/system --disable-doxygen --disable-docs --enable-static --enable-shared --with-ocaml-libdir=/home/opam/.opam/system/lib/llvm
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether GCC or Clang is our host compiler... gcc
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking target system type... x86_64-unknown-linux-gnu
checking type of operating system we're going to host on... Linux
checking type of operating system we're going to target... Linux
checking target architecture... x86_64
checking optimization flags... -O3
checking for GNU make... make
checking whether ln -s works... yes
checking for nm... /usr/bin/nm
checking for cmp... /usr/bin/cmp
checking for cp... /bin/cp
checking for date... /bin/date
checking for find... /usr/bin/find
checking for grep... /bin/grep
checking for mkdir... /bin/mkdir
checking for mv... /bin/mv
checking for ranlib... ranlib
checking for ar... ar
checking for rm... /bin/rm
checking for sed... /bin/sed
checking for tar... /bin/tar
checking for pwd... /bin/pwd
checking for dot... echo dot
checking for a BSD-compatible install... /usr/bin/install -c
checking for bzip2... /bin/bzip2
checking for cat... /bin/cat
checking for doxygen... no
checking for groff... no
checking for gzip... /bin/gzip
checking for pdfroff... no
checking for zip... no
checking for ocamlc... /usr/bin/ocamlc
checking for ocamlopt... /usr/bin/ocamlopt
checking for ocamldep... /usr/bin/ocamldep
checking for ocamldoc... /usr/bin/ocamldoc
checking for gas... no
checking for as... /usr/bin/as
checking for linker version... 2.24
checking for compiler -Wl,-R<path> option... yes
checking for compiler -rdynamic option... yes
checking for compiler -Wl,--version-script option... yes
checking for grep that handles long lines and -e... (cached) /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking errno.h usability... yes
checking errno.h presence... yes
checking for errno.h... yes
checking tool compatibility... ok
checking optional compiler flags... -Wno-variadic-macros -Wno-missing-field-initializers   -Wno-maybe-uninitialized
checking for python... ./configure: line 8223: result:: command not found
no
checking for python >= 2.5... ./configure: line 8249: test: line: integer expression expected
./configure: line 8250: test: line: integer expression expected
not found
configure: error: found python line (); required >= 2.5
See `config.log' for more details.
Removing llvm.3.5.
[ERROR] The compilation of llvm.3.5 failed.
  ./compile.sh uninstall 3.5 make /home/opam/.opam/system /home/opam/.opam/system/lib
Executing: ./configure CC=gcc CXX=g++ --disable-compiler-version-checks --prefix=/home/opam/.opam/system --disable-doxygen --disable-docs --enable-static --enable-shared --with-ocaml-libdir=/home/opam/.opam/system/lib/llvm
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether GCC or Clang is our host compiler... gcc
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking target system type... x86_64-unknown-linux-gnu
checking type of operating system we're going to host on... Linux
checking type of operating system we're going to target... Linux
checking target architecture... x86_64
checking optimization flags... -O3
checking for GNU make... make
checking whether ln -s works... yes
checking for nm... /usr/bin/nm
checking for cmp... /usr/bin/cmp
checking for cp... /bin/cp
checking for date... /bin/date
checking for find... /usr/bin/find
checking for grep... /bin/grep
checking for mkdir... /bin/mkdir
checking for mv... /bin/mv
checking for ranlib... ranlib
checking for ar... ar
checking for rm... /bin/rm
checking for sed... /bin/sed
checking for tar... /bin/tar
checking for pwd... /bin/pwd
checking for dot... echo dot
checking for a BSD-compatible install... /usr/bin/install -c
checking for bzip2... /bin/bzip2
checking for cat... /bin/cat
checking for doxygen... no
checking for groff... no
checking for gzip... /bin/gzip
checking for pdfroff... no
checking for zip... no
checking for ocamlc... /usr/bin/ocamlc
checking for ocamlopt... /usr/bin/ocamlopt
checking for ocamldep... /usr/bin/ocamldep
checking for ocamldoc... /usr/bin/ocamldoc
checking for gas... no
checking for as... /usr/bin/as
checking for linker version... 2.24
checking for compiler -Wl,-R<path> option... yes
checking for compiler -rdynamic option... yes
checking for compiler -Wl,--version-script option... yes
checking for grep that handles long lines and -e... (cached) /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking errno.h usability... yes
checking errno.h presence... yes
checking for errno.h... yes
checking tool compatibility... ok
checking optional compiler flags... -Wno-variadic-macros -Wno-missing-field-initializers   -Wno-maybe-uninitialized
checking for python... ./configure: line 8223: result:: command not found
no
checking for python >= 2.5... ./configure: line 8249: test: line: integer expression expected
./configure: line 8250: test: line: integer expression expected
not found
configure: error: found python line (); required >= 2.5
See `config.log' for more details.


#=== ERROR while installing llvm.3.5 ==========================================#
# opam-version         1.2.0 (75c4bf0dd32913f9218ffa882e683e01d6cdfb0f)
# os                   linux
# command              ./compile.sh install 3.5 make /home/opam/.opam/system /home/opam/.opam/system/lib
# path                 /home/opam/.opam/system/build/llvm.3.5
# compiler             system (4.01.0)
# exit-code            1
# env-file             /home/opam/.opam/system/build/llvm.3.5/llvm-260-d0f245.env
# stdout-file          /home/opam/.opam/system/build/llvm.3.5/llvm-260-d0f245.out
# stderr-file          /home/opam/.opam/system/build/llvm.3.5/llvm-260-d0f245.err
### stdout ###
# ...[truncated]
# checking for inttypes.h... yes
# checking for stdint.h... yes
# checking for unistd.h... yes
# checking errno.h usability... yes
# checking errno.h presence... yes
# checking for errno.h... yes
# checking tool compatibility... ok
# checking optional compiler flags... -Wno-variadic-macros -Wno-missing-field-initializers   -Wno-maybe-uninitialized
# checking for python... no
# checking for python >= 2.5... not found
### stderr ###
# stat: cannot stat '/usr/local/Cellar/llvm/3.5*/bin/llvm-config': No such file or directory
# ./configure: line 8223: result:: command not found
# ./configure: line 8249: test: line: integer expression expected
# ./configure: line 8250: test: line: integer expression expected
# configure: error: found python line (); required >= 2.5
# See `config.log' for more details.

'opam install llvm' failed.
