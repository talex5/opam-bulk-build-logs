+ uname -m
# Detecting depexts using flags: x86_64 linux debian
+ uname -s
+ opam list --safe --recursive --external=x86_64,linux,debian --required-by=sarek
+ opam list --safe --recursive --external=source,x86_64,linux,debian --required-by=sarek
# The following system packages are needed:
#  - m4
Not running as root, system installation will be done through "sudo"
+ sudo apt-get update
Hit http://http.debian.net stable Release.gpg
Get:1 http://http.debian.net stable-updates Release.gpg [836 B]
Hit http://http.debian.net stable Release
Get:2 http://http.debian.net stable-updates Release [124 kB]
Hit http://http.debian.net stable/main amd64 Packages
Get:3 http://http.debian.net stable-updates/main amd64 Packages [4437 B]
Hit http://security.debian.org stable/updates Release.gpg
Hit http://security.debian.org stable/updates Release
Hit http://security.debian.org stable/updates/main amd64 Packages
Fetched 129 kB in 1s (91.9 kB/s)
Reading package lists...
+ sudo apt-get install -qq -yy m4
# OS package update successful
Not running as root, system installation will be done through "sudo"
# OS packages installation successful
The following actions will be performed:
  - install ocp-build 0.1                                       [required by sarek]
  - install spoc      20140620                                  [required by sarek]
  - install sarek     20140620
===== 3 to install =====

=-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[ocp-build: from default] Command started
[sarek: from default] Command started
[spoc: from default] Command started
[spoc: from default] Command started
[default] http://opam-archive:8080/archives/spoc.20140620+opam.tar.gz downloaded
[ocp-build: from default] Command started
[sarek: from default] Command started
[default] http://opam-archive:8080/archives/ocp-build.0.1+opam.tar.gz downloaded
[default] http://opam-archive:8080/archives/sarek.20140620+opam.tar.gz downloaded

=-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[ocp-build: make] Command started
+ make  (CWD=/home/opam/.opam/4.01.0/build/ocp-build.0.1)
- mkdir -p ./_obuild
- ocamlc -o ./_obuild/unixrun -make-runtime unix.cma
- _obuild/unixrun boot/ocp-build.boot -init -scan -sanitize -v 0 ocp-build
- ocp-build: Entering directory `/home/opam/.opam/4.01.0/build/ocp-build.0.1'
- ocp-build: Leaving directory `/home/opam/.opam/4.01.0/build/ocp-build.0.1'
- Compilation successful
- Cache: 0 digests loaded
- No error. 293 commands executed, 397 files generated.
-> installed ocp-build.0.1
[spoc: make build] Command started
[ERROR] The compilation of spoc failed at "make build".
+ make "build" (CWD=/home/opam/.opam/4.01.0/build/spoc.20140620)
- ocp-build -init
- ocp-build: Entering directory `/home/opam/.opam/4.01.0/build/spoc.20140620'
- ocp-build: Leaving directory `/home/opam/.opam/4.01.0/build/spoc.20140620'
- cd extension && make
- make[1]: Entering directory `/home/opam/.opam/4.01.0/build/spoc.20140620/extension'
- ocamlfind ocamlc -I +camlp4 -pp camlp4of dynlink.cma camlp4lib.cma kernels_ext.ml
- make[1]: Leaving directory `/home/opam/.opam/4.01.0/build/spoc.20140620/extension'
- Cache: 0 digests loaded
- make[1]: ocamlfind: Command not found
- make[1]: *** [kernels_ext.cma] Error 127
- make: *** [build] Error 2
[spoc: make uninstall] Command started
+ make "uninstall" (CWD=/home/opam/.opam/4.01.0/build/spoc.20140620)
- ocamlfind remove spoc
- make: ocamlfind: Command not found
- make: *** [uninstall] Error 127


=-=- Error report -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The following actions were aborted
  - install sarek 20140620
The following actions failed
  - install spoc 20140620
The following changes have been performed
  - install ocp-build 0.1

#=== ERROR while installing spoc.20140620 =====================================#
# opam-version         1.2.1 (ab224ffd593a168871a14182d6e69d3a902c3f27)
# os                   linux
# command              make build
# path                 /home/opam/.opam/4.01.0/build/spoc.20140620
# compiler             4.01.0
# exit-code            2
# env-file             /home/opam/.opam/4.01.0/build/spoc.20140620/spoc-6-865888.env
# stdout-file          /home/opam/.opam/4.01.0/build/spoc.20140620/spoc-6-865888.out
# stderr-file          /home/opam/.opam/4.01.0/build/spoc.20140620/spoc-6-865888.err
### stdout ###
# ocp-build -init
# ocp-build: Entering directory `/home/opam/.opam/4.01.0/build/spoc.20140620'
# ocp-build: Leaving directory `/home/opam/.opam/4.01.0/build/spoc.20140620'
# cd extension && make
# make[1]: Entering directory `/home/opam/.opam/4.01.0/build/spoc.20140620/extension'
# ocamlfind ocamlc -I +camlp4 -pp camlp4of dynlink.cma camlp4lib.cma kernels_ext.ml
# make[1]: Leaving directory `/home/opam/.opam/4.01.0/build/spoc.20140620/extension'
### stderr ###
# Cache: 0 digests loaded
# make[1]: ocamlfind: Command not found
# make[1]: *** [kernels_ext.cma] Error 127
# make: *** [build] Error 2


The former state can be restored with:
    opam switch import "~/.opam/4.01.0/backup/state-20150307143929.export"
'opam install sarek' failed.
